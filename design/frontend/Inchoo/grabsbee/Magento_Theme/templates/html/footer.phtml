<?php
/**
 * Hyvä Themes - https://hyva.io
 * Copyright © Hyvä Themes 2020-present. All rights reserved.
 * This product is licensed per Magento install
 * See https://hyva.io/license
 */

declare(strict_types=1);

use Magento\Framework\View\Element\Template;
use Magento\Framework\Escaper;
use Hyva\Theme\Model\ViewModelRegistry;
use Hyva\Theme\ViewModel\Navigation;


/** @var Template $block */
/** @var Escaper $escaper */
/** @var ViewModelRegistry $viewModels */
/** @var Navigation $viewModelNavigation */
$viewModelNavigation = $viewModels->require(Navigation::class, $block);

$menuItems = $viewModelNavigation->getNavigation(4);
$block->setData('cache_tags', $viewModelNavigation->getIdentities());
?>

<footer>
    <div class="bg-secondary">

        <div class="desktop:flex desktop:flex-row desktop:justify-center">
            <?php foreach ($block->getChildNames() as $childName): ?>
                <?= $childName !== 'footer-copyright' ? $block->getBlockHtml($childName) : '' ?>
            <?php endforeach; ?>
        </div>
    </div>

    <div class="bg-primary flex flex-col-reverse desktop:flex-row desktop:justify-around py-6 mobile:gap-6 gap-1">

        <div x-data="{ open: window.innerWidth < 700 }" x-init="window.addEventListener('resize', () => { open = window.innerWidth > 1024; })">
            <div class="flex mx-3 flex-row justify-between items-center">
                <p class="text-white font-primary font-bold text-xs leading-6 uppercase mb-6 mobile:mb-0">Categories</p>
                <button class="desktop:hidden block" @click="open = !open" x-bind:class="{ 'rotate-180': open }">
                    <svg width="9" height="6" viewBox="0 0 9 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.242039 1.39421L3.91704 4.89421C4.15652 5.12229 4.54424 5.12229 4.78311 4.89421L8.45811 1.39421C8.6976 1.16613 8.6976 0.796878 8.45811 0.569378C8.21862 0.341878 7.83091 0.341295 7.59204 0.569378L4.35007 3.65696L1.10811 0.569378C0.868626 0.341295 0.480913 0.341295 0.242039 0.569378C0.00316362 0.797461 0.00255111 1.16671 0.242039 1.39421Z" fill="white"/>
                    </svg>
                </button>
            </div>

            <nav class="-ml-3" aria-label="<?= $escaper->escapeHtmlAttr(__('Footer categories')) ?>" x-show="open" x-transition>
                <div class="flex flex-row justify-center">
                    <ul>
                        <?php foreach ($menuItems as $index => $menuItem): ?>
                            <li class="text-white font-primary font-normal text-xs leading-6">
                <span>
                    <a
                        href="<?= $escaper->escapeUrl($menuItem['url']) ?>"
                        title="<?= $escaper->escapeHtmlAttr($menuItem['name']) ?>"
                    >
                        <?= $escaper->escapeHtml($menuItem['name']) ?>
                    </a>
                </span>
                            </li>
                        <?php endforeach; ?>
                    </ul>
                </div>
            </nav>
        </div>

        <div x-data="{ open: window.innerWidth < 700 }" x-init="window.addEventListener('resize', () => { open = window.innerWidth > 1024; })">
            <div class="flex flex-row justify-between items-center mx-3">
                <p class="text-white font-primary font-bold text-xs leading-6 uppercase mb-6 mobile:mb-0">Contact us</p>

                <button class="desktop:hidden block" @click="open = !open" x-bind:class="{ 'rotate-180': open }">
                    <svg width="9" height="6" viewBox="0 0 9 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.242039 1.39421L3.91704 4.89421C4.15652 5.12229 4.54424 5.12229 4.78311 4.89421L8.45811 1.39421C8.6976 1.16613 8.6976 0.796878 8.45811 0.569378C8.21862 0.341878 7.83091 0.341295 7.59204 0.569378L4.35007 3.65696L1.10811 0.569378C0.868626 0.341295 0.480913 0.341295 0.242039 0.569378C0.00316362 0.797461 0.00255111 1.16671 0.242039 1.39421Z" fill="white"/>
                    </svg>

                </button>
            </div>

            <div class="flex flex-row justify-center ml-3">
                <ul class="mobile:flex mobile:flex-col" x-show="open" x-transition>
                    <li class="flex flex-row items-center">
                    <span><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12.8333 5.83333C12.8333 5.04408 12.6764 4.29042 12.3912 3.60267C12.0954 2.88867 11.662 2.24642 11.1247 1.70858C10.5875 1.17133 9.94525 0.737917 9.23067 0.442167C8.54291 0.156917 7.78925 0 7 0C6.21075 0 5.45708 0.156917 4.76933 0.442167C4.05475 0.737917 3.4125 1.17133 2.87525 1.70858C2.338 2.24583 1.90458 2.88808 1.60883 3.60267C1.32358 4.29042 1.16666 5.04408 1.16666 5.83333C1.16666 6.16525 1.19758 6.49133 1.25416 6.811C1.414 7.714 1.77858 8.56333 2.23533 9.331C2.73641 10.1727 3.35708 10.9317 3.96725 11.5739C4.47883 12.1123 4.98808 12.5743 5.42325 12.9407C5.73125 13.1997 6.00308 13.412 6.21425 13.5701C6.34375 13.6675 6.45108 13.7445 6.52925 13.7999C6.62083 13.8647 6.67683 13.902 6.67683 13.902C6.86991 14.0286 7.12308 14.0356 7.32375 13.902C7.32375 13.902 7.38033 13.8641 7.47133 13.7999C7.5495 13.7445 7.65625 13.6675 7.78633 13.5701C7.9975 13.412 8.26933 13.1997 8.57733 12.9407C9.0125 12.5743 9.52175 12.1123 10.0333 11.5739C10.6435 10.9317 11.2642 10.1727 11.7652 9.331C12.222 8.56333 12.5866 7.714 12.7464 6.811C12.8024 6.49133 12.8333 6.16525 12.8333 5.83333ZM11.6667 5.83333C11.6667 6.09233 11.6427 6.35075 11.5972 6.608C11.4683 7.33717 11.1673 8.0535 10.7619 8.73483C10.3174 9.4815 9.75625 10.1716 9.18691 10.7707C8.7115 11.2712 8.23491 11.7034 7.82541 12.0482C7.53608 12.2914 7.28116 12.4903 7.08575 12.6373C7.05541 12.6601 7.02683 12.6811 7 12.7015C6.97258 12.6817 6.944 12.6601 6.91425 12.6373C6.71825 12.4903 6.46333 12.2914 6.17458 12.0482C5.76508 11.7034 5.28908 11.2712 4.81308 10.7707C4.24375 10.1716 3.68258 9.4815 3.23808 8.73483C2.83266 8.0535 2.53166 7.33717 2.40275 6.608C2.35725 6.35075 2.33333 6.09233 2.33333 5.83333C2.33333 5.20042 2.45933 4.59783 2.68625 4.04892C2.92308 3.47842 3.26958 2.96392 3.70008 2.53342C4.13058 2.10292 4.64508 1.75583 5.21558 1.51958C5.7645 1.29267 6.36708 1.16667 7 1.16667C7.63291 1.16667 8.2355 1.29267 8.78441 1.51958C9.35491 1.75583 9.86883 2.10233 10.2999 2.53342C10.731 2.9645 11.0775 3.47842 11.3137 4.04892C11.5407 4.59783 11.6667 5.20042 11.6667 5.83333ZM9.33333 5.83333C9.33333 5.51833 9.27033 5.21675 9.15658 4.94083C9.03816 4.655 8.86491 4.39833 8.65025 4.18367C8.43558 3.969 8.17833 3.79517 7.8925 3.67675C7.61658 3.563 7.315 3.5 7 3.5C6.685 3.5 6.38341 3.563 6.1075 3.67675C5.82166 3.79517 5.565 3.96842 5.35033 4.18308C5.13566 4.39775 4.96183 4.655 4.84341 4.94083C4.72966 5.21675 4.66666 5.51833 4.66666 5.83333C4.66666 6.14833 4.72966 6.44992 4.84341 6.72583C4.96183 7.01167 5.13508 7.26833 5.34975 7.483C5.56441 7.69767 5.82108 7.87092 6.10691 7.98933C6.38341 8.10367 6.685 8.16667 7 8.16667C7.315 8.16667 7.61658 8.10367 7.8925 7.98992C8.17833 7.8715 8.435 7.69825 8.64966 7.48358C8.86433 7.26892 9.03758 7.01225 9.156 6.72642C9.27033 6.44992 9.33333 6.14833 9.33333 5.83333ZM8.16666 5.83333C8.16666 5.99258 8.13516 6.1425 8.07858 6.27958C8.01966 6.42192 7.93275 6.55025 7.82483 6.65875C7.71691 6.76725 7.588 6.85358 7.44566 6.9125C7.30916 6.9685 7.15925 7 7 7C6.84075 7 6.69083 6.9685 6.55375 6.91192C6.41141 6.853 6.28308 6.76608 6.17458 6.65817C6.06608 6.55025 5.97975 6.42133 5.92083 6.279C5.86483 6.1425 5.83333 5.99258 5.83333 5.83333C5.83333 5.67408 5.86483 5.52417 5.92141 5.38708C5.98033 5.24475 6.06725 5.11642 6.17516 5.00792C6.28308 4.89942 6.412 4.81308 6.55433 4.75417C6.69083 4.69817 6.84075 4.66667 7 4.66667C7.15925 4.66667 7.30916 4.69817 7.44625 4.75475C7.58858 4.81367 7.71691 4.90058 7.82541 5.0085C7.93391 5.11642 8.02025 5.24533 8.07916 5.38767C8.13516 5.52417 8.16666 5.67408 8.16666 5.83333Z" fill="white"/>
        </svg></span>
                        <p class="text-white font-primary font-normal text-xs leading-6 ml-2">Trg slobode 6</p>
                    </li>

                    <li class="flex flex-row items-center">
                    <span><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.4167 9.87002C13.4213 9.67168 13.3875 9.46635 13.3222 9.27443C13.2545 9.07785 13.1536 8.89585 13.0241 8.7366C12.8876 8.5686 12.7202 8.42568 12.5277 8.3166C12.3416 8.2116 12.1339 8.13927 11.9012 8.1066C11.4345 8.04943 10.9124 7.92343 10.3927 7.72977C10.1401 7.63702 9.87175 7.6026 9.60867 7.62827C9.41267 7.64752 9.219 7.69943 9.037 7.7846C8.86025 7.86743 8.69517 7.98118 8.54817 8.12702L8.12817 8.54702C7.09567 7.89543 6.16817 6.99127 5.45475 5.8701L5.87825 5.4466C6.06609 5.2541 6.20667 5.0231 6.29067 4.77226C6.35309 4.5856 6.38459 4.38726 6.38109 4.18601C6.37759 3.9906 6.34084 3.79401 6.26792 3.59918C6.09934 3.15993 5.96575 2.64018 5.89225 2.08543C5.8625 1.87951 5.79717 1.68585 5.70325 1.50968C5.60642 1.33001 5.47984 1.16843 5.32992 1.0331C5.17009 0.889015 4.98342 0.774098 4.77809 0.696515C4.57975 0.621265 4.3645 0.581015 4.1475 0.583348H2.39984C2.3485 0.583348 2.29367 0.585681 2.24059 0.590348C2.0055 0.611348 1.78442 0.679015 1.58609 0.782848C1.38017 0.890765 1.2005 1.03776 1.05467 1.21218C0.908836 1.3866 0.796836 1.59076 0.72742 1.81243C0.66092 2.02651 0.634086 2.25576 0.65567 2.49493C0.83067 4.28926 1.45192 6.13668 2.53167 7.80443C3.40784 9.21202 4.65967 10.5012 6.2055 11.4829C7.7035 12.4728 9.52117 13.1524 11.5057 13.3677C11.5593 13.3729 11.6171 13.3753 11.6737 13.3753C11.9099 13.3741 12.1357 13.3263 12.3428 13.2399C12.5568 13.1501 12.7488 13.0194 12.9092 12.8578C13.0696 12.6963 13.1985 12.5032 13.2866 12.2885C13.3718 12.0814 13.4178 11.8545 13.4167 11.6212V9.87002ZM12.25 9.87002V11.62C12.2506 11.7023 12.2348 11.7775 12.2068 11.8458C12.1777 11.9169 12.1345 11.9817 12.0808 12.0359C12.0272 12.0902 11.9624 12.1339 11.8918 12.1637C11.8242 12.1923 11.7489 12.208 11.669 12.2086C11.648 12.2086 11.6293 12.2074 11.6177 12.2063C9.83267 12.012 8.19175 11.3966 6.8495 10.5093C5.43317 9.60927 4.30675 8.44552 3.52334 7.18785C2.53342 5.65951 1.97459 3.9906 1.81767 2.38235C1.81067 2.30651 1.82 2.23068 1.84159 2.16068C1.86434 2.0866 1.90167 2.01835 1.95067 1.95943C1.99967 1.90051 2.05975 1.85151 2.128 1.81593C2.19334 1.7821 2.26625 1.75935 2.34617 1.75235C2.366 1.7506 2.3835 1.75001 2.39517 1.75001H4.1475C4.22917 1.74943 4.29975 1.76285 4.36509 1.78735C4.43275 1.81301 4.49459 1.85093 4.54825 1.89935C4.59842 1.94485 4.641 1.9991 4.67367 2.05976C4.70517 2.11868 4.72734 2.18401 4.73725 2.25401C4.8195 2.87935 4.97525 3.48951 5.17825 4.0186C5.201 4.07985 5.21325 4.1446 5.21384 4.20818C5.215 4.2741 5.2045 4.33943 5.1835 4.40243C5.15492 4.48701 5.10709 4.56635 5.04234 4.63285L4.30675 5.36843C4.11775 5.55743 4.08567 5.84327 4.21225 6.06902C5.13625 7.6936 6.45167 8.9606 7.9345 9.78952C8.16609 9.91901 8.449 9.87352 8.63159 9.69268L9.37242 8.95185C9.41967 8.90518 9.47392 8.86785 9.53167 8.84102C9.59117 8.81302 9.65534 8.79552 9.72125 8.7891C9.80992 8.78035 9.90209 8.79202 9.989 8.8241C10.5852 9.04635 11.1965 9.1951 11.7588 9.26393C11.8236 9.27326 11.8924 9.29718 11.9531 9.3316C12.0161 9.36718 12.0721 9.41502 12.1182 9.47102C12.1619 9.52468 12.1958 9.58593 12.2185 9.65185C12.2407 9.71601 12.2518 9.78485 12.25 9.86885V9.87002Z" fill="white"/>
        </svg></span>
                        <p class="text-white font-primary font-normal text-xs leading-6 ml-2">+385958811630</p>
                    </li>

                    <li class="flex flex-row items-center">
                    <span><svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1.75 3.62058L6.66575 7.06167C6.86409 7.19875 7.1295 7.20517 7.33484 7.06167L12.25 3.62058V9.5C12.25 9.57817 12.2343 9.65225 12.2063 9.71992C12.1765 9.79108 12.1328 9.85642 12.0779 9.91125C12.0231 9.96608 11.9578 10.0098 11.8866 10.0396C11.8189 10.0676 11.7448 10.0833 11.6667 10.0833H2.33334C2.25517 10.0833 2.18109 10.0676 2.11342 10.0396C2.04225 10.0098 1.97692 9.96608 1.92209 9.91125C1.86725 9.85642 1.8235 9.79108 1.79375 9.71992C1.76575 9.65225 1.75 9.57817 1.75 9.5V3.62058ZM0.583336 2.507V9.5C0.583336 9.73508 0.630586 9.96083 0.715753 10.1667C0.805003 10.382 0.935669 10.5751 1.09667 10.7367C1.25767 10.8983 1.45134 11.0289 1.66659 11.1176C1.8725 11.2028 2.09825 11.25 2.33334 11.25H11.6667C11.9018 11.25 12.1275 11.2028 12.3334 11.1176C12.5487 11.0283 12.7418 10.8977 12.9033 10.7367C13.0649 10.5757 13.1956 10.382 13.2843 10.1667C13.3694 9.96083 13.4167 9.73508 13.4167 9.5V2.5C13.4167 2.4965 13.4167 2.493 13.4167 2.49008C13.4155 2.2585 13.3683 2.03683 13.2843 1.83383C13.195 1.61858 13.0643 1.4255 12.9033 1.26392C12.7423 1.10233 12.5487 0.971667 12.3334 0.883C12.1275 0.79725 11.9018 0.75 11.6667 0.75H2.33334C2.09825 0.75 1.8725 0.79725 1.66659 0.882417C1.45134 0.971667 1.25825 1.10233 1.09667 1.26333C0.935086 1.42433 0.805003 1.618 0.715753 1.83325C0.631753 2.03625 0.584503 2.2585 0.583336 2.49008C0.583336 2.493 0.583336 2.4965 0.583336 2.5V2.507ZM12.1882 2.23983L7 5.87108L1.81184 2.23983C1.83984 2.18442 1.87717 2.13308 1.9215 2.08875C1.97692 2.03333 2.04167 1.98958 2.11342 1.96042C2.18109 1.93242 2.25517 1.91667 2.33334 1.91667H11.6667C11.7448 1.91667 11.8189 1.93242 11.8866 1.96042C11.9578 1.99017 12.0231 2.03392 12.0779 2.08875C12.1223 2.13308 12.1596 2.18442 12.1876 2.23983H12.1882Z" fill="white"/>
        </svg></span>
                        <p class="text-white font-primary font-normal text-xs leading-6 ml-2">filip.svetlicic@gmail.com</p>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-black flex flex-row justify-center items-center py-2">
        <p>
            <?= $block->getChildHtml('copyright') ?>
        </p>
    </div>
</footer>


