<?php
/**
 * Hyvä Themes - https://hyva.io
 * Copyright © Hyvä Themes 2020-present. All rights reserved.
 * This product is licensed per Magento install
 * See https://hyva.io/license
 */

declare(strict_types=1);

use Magento\Catalog\Block\Product\ProductList\Toolbar;
use Magento\Framework\Escaper;

/** @var Toolbar $block */
/** @var Escaper $escaper */
?>

<style>
    .toolbar-products .modes-mode.mode-grid {
        width: 15px;
        height: 15px;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M1.25006 0.5C0.836061 0.5 0.500061 0.836 0.500061 1.25V6.5C0.500061 6.914 0.836061 7.25 1.25006 7.25H6.50006C6.91406 7.25 7.25006 6.914 7.25006 6.5V1.25C7.25006 0.836 6.91406 0.5 6.50006 0.5H1.25006ZM2.00006 2H5.75006V5.75H2.00006V2ZM9.50006 0.5C9.08606 0.5 8.75006 0.836 8.75006 1.25V6.5C8.75006 6.914 9.08606 7.25 9.50006 7.25H14.7501C15.1641 7.25 15.5001 6.914 15.5001 6.5V1.25C15.5001 0.836 15.1641 0.5 14.7501 0.5H9.50006ZM10.2501 2H14.0001V5.75H10.2501V2ZM9.50006 8.75C9.08606 8.75 8.75006 9.086 8.75006 9.5V14.75C8.75006 15.164 9.08606 15.5 9.50006 15.5H14.7501C15.1641 15.5 15.5001 15.164 15.5001 14.75V9.5C15.5001 9.086 15.1641 8.75 14.7501 8.75H9.50006ZM10.2501 10.25H14.0001V14H10.2501V10.25ZM1.25006 8.75C0.836061 8.75 0.500061 9.086 0.500061 9.5V14.75C0.500061 15.164 0.836061 15.5 1.25006 15.5H6.50006C6.91406 15.5 7.25006 15.164 7.25006 14.75V9.5C7.25006 9.086 6.91406 8.75 6.50006 8.75H1.25006ZM2.00006 10.25H5.75006V14H2.00006V10.25Z" fill="red"/></svg>');
        background-repeat: no-repeat;
        background-position: center center;
    }

    .toolbar-products .modes-mode.mode-list {
        width: 15px;
        height: 15px;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="12" viewBox="0 0 16 12" fill="none"><path d="M5 2.25H14.75C15.164 2.25 15.5 1.914 15.5 1.5C15.5 1.086 15.164 0.75 14.75 0.75H5C4.586 0.75 4.25 1.086 4.25 1.5C4.25 1.914 4.586 2.25 5 2.25ZM5 6.75H14.75C15.164 6.75 15.5 6.414 15.5 6C15.5 5.586 15.164 5.25 14.75 5.25H5C4.586 5.25 4.25 5.586 4.25 6C4.25 6.414 4.586 6.75 5 6.75ZM5 11.25H14.75C15.164 11.25 15.5 10.914 15.5 10.5C15.5 10.086 15.164 9.75 14.75 9.75H5C4.586 9.75 4.25 10.086 4.25 10.5C4.25 10.914 4.586 11.25 5 11.25ZM2 1.5C2 1.086 1.664 0.75 1.25 0.75C0.836 0.75 0.5 1.086 0.5 1.5C0.5 1.914 0.836 2.25 1.25 2.25C1.664 2.25 2 1.914 2 1.5ZM2 6C2 5.586 1.664 5.25 1.25 5.25C0.836 5.25 0.5 5.586 0.5 6C0.5 6.414 0.836 6.75 1.25 6.75C1.664 6.75 2 6.414 2 6ZM2 10.5C2 10.086 1.664 9.75 1.25 9.75C0.836 9.75 0.5 10.086 0.5 10.5C0.5 10.914 0.836 11.25 1.25 11.25C1.664 11.25 2 10.914 2 10.5Z" fill="red"/></svg>');
        background-repeat: no-repeat;
        background-position: center;
    }

    .toolbar-products .modes-mode.mode-grid.active {
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="red"><path d="M1.25006 0.5C0.836061 0.5 0.500061 0.836 0.500061 1.25V6.5C0.500061 6.914 0.836061 7.25 1.25006 7.25H6.50006C6.91406 7.25 7.25006 6.914 7.25006 6.5V1.25C7.25006 0.836 6.91406 0.5 6.50006 0.5H1.25006ZM2.00006 2H5.75006V5.75H2.00006V2ZM9.50006 0.5C9.08606 0.5 8.75006 0.836 8.75006 1.25V6.5C8.75006 6.914 9.08606 7.25 9.50006 7.25H14.7501C15.1641 7.25 15.5001 6.914 15.5001 6.5V1.25C15.5001 0.836 15.1641 0.5 14.7501 0.5H9.50006ZM10.2501 2H14.0001V5.75H10.2501V2ZM9.50006 8.75C9.08606 8.75 8.75006 9.086 8.75006 9.5V14.75C8.75006 15.164 9.08606 15.5 9.50006 15.5H14.7501C15.1641 15.5 15.5001 15.164 15.5001 14.75V9.5C15.5001 9.086 15.1641 8.75 14.7501 8.75H9.50006ZM10.2501 10.25H14.0001V14H10.2501V10.25ZM1.25006 8.75C0.836061 8.75 0.500061 9.086 0.500061 9.5V14.75C0.500061 15.164 0.836061 15.5 1.25006 15.5H6.50006C6.91406 6.75 7.25006 15.164 7.25006 14.75V9.5C7.25006 9.086 6.91406 8.75 6.50006 8.75H1.25006ZM2.00006 10.25H5.75006V14H2.00006V10.25Z" fill="white"/></svg>');
    }

    .toolbar-products .modes-mode.mode-list.active{
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="12" viewBox="0 0 16 12" fill="red"><path d="M5 2.25H14.75C15.164 2.25 15.5 1.914 15.5 1.5C15.5 1.086 15.164 0.75 14.75 0.75H5C4.586 0.75 4.25 1.086 4.25 1.5C4.25 1.914 4.586 2.25 5 2.25ZM5 6.75H14.75C15.164 6.75 15.5 6.414 15.5 6C15.5 5.586 15.164 5.25 14.75 5.25H5C4.586 5.25 4.25 5.586 4.25 6C4.25 6.414 4.586 6.75 5 6.75ZM5 11.25H14.75C15.164 11.25 15.5 10.914 15.5 10.5C15.5 10.086 15.164 9.75 14.75 9.75H5C4.586 9.75 4.25 10.086 4.25 10.5C4.25 10.914 4.586 11.25 5 11.25ZM2 1.5C2 1.086 1.664 0.75 1.25 0.75C0.836 0.75 0.5 1.086 0.5 1.5C0.5 1.914 0.836 2.25 1.25 2.25C1.664 2.25 2 1.914 2 1.5ZM2 6C2 5.586 1.664 5.25 1.25 5.25C0.836 5.25 0.5 5.586 0.5 6C0.5 6.414 0.836 6.75 1.25 6.75C1.664 6.75 2 6.414 2 6ZM2 10.5C2 10.086 1.664 9.75 1.25 9.75C0.836 9.75 0.5 10.086 0.5 10.5C0.5 10.914 0.836 11.25 1.25 11.25C1.664 11.25 2 10.914 2 10.5Z" fill="white"/></svg>');
    }

</style>

<?php if ($block->isEnabledViewSwitcher()): ?>

    <?php $modes = $block->getModes(); ?>
    <?php if ($modes && count($modes) > 1): ?>
        <div
            class="modes flex justify-center items-center bg-white text-sm leading-5
             w-20 order-1 col-span-1 sm:col-span-2 md:col-span-1 lg:col-span-2"
            aria-label="<?= $escaper->escapeHtmlAttr(__('Products view mode')) ?>"
        >
            <?php foreach ($block->getModes() as $code => $label): ?>
                <?php if ($block->isModeActive($code)): ?>
                    <strong
                        title="<?= $escaper->escapeHtmlAttr($label) ?>"
                        class="modes-mode active mode-<?= $escaper->escapeHtmlAttr(strtolower($code)) ?> bg-primary border p-4 border border-secondary"
                        role="checkbox"
                        aria-checked="true"
                        data-value="<?= $escaper->escapeHtmlAttr(strtolower($code)) ?>"
                        aria-label="<?= $escaper->escapeHtmlAttr(__('Products view mode - %1', $label)) ?>"
                    >
                        <span><?= $escaper->escapeHtml($label) ?></span>
                    </strong>
                <?php else: ?>
                    <button
                        class="modes-mode mode-<?= $escaper->escapeHtmlAttr(strtolower($code)) ?> border p-4 border border-secondary"
                        title="<?= $escaper->escapeHtmlAttr($label) ?>"
                        href="#"
                        @click.prevent="changeUrl(
                            'product_list_mode',
                            '<?= $escaper->escapeHtmlAttr(strtolower($code)) ?>',
                            options.modeDefault
                        )"
                        data-role="mode-switcher"
                        data-value="<?= $escaper->escapeHtmlAttr(strtolower($code)) ?>"
                        role="checkbox"
                        aria-checked="false"
                        aria-label="<?= $escaper->escapeHtmlAttr(__('Products view mode - %1', $label)) ?>"
                    >
                        <span><?= $escaper->escapeHtml($label) ?></span>
                    </button>
                <?php endif; ?>
            <?php endforeach; ?>
        </div>

    <?php else: ?>
        <div class="modes w-20 order-1 col-span-1 sm:col-span-2 md:col-span-1 lg:col-span-2"></div>
    <?php endif; ?>

<?php endif; ?>
